---
title: "JavaScript コーディング規約 ベストプラクティス"
description: "ES6以降のJavaScript開発におけるコーディング規約のベストプラクティスをまとめたよ。Prettierとの連携、可読性、パフォーマンス、保守性を重視したガイドラインだよ！😊"
author: "Reco"
date: "2025-06-03"
tag: ["JavaScript", "ES6", "コーディング規約", "ベストプラクティス", "Prettier", "ESLint", "TypeScript"]
globs: *
---

## Brief overview
このガイドラインは、ES6以降のJavaScript開発におけるコーディング規約のベストプラクティスをまとめたものだよ。特に、Prettierとの連携、可読性、パフォーマンス、保守性を重視しているJunのために作成したよ！😊

## Prettierとの連携と基本的なフォーマットルール
- **Prettierで自動フォーマット！** ✨
  - コードの見た目をPrettierに任せることで、チーム全体で一貫したスタイルを保てるよ。手動でフォーマットを気にしなくていいから、開発に集中できるね！
  - `package.json`にPrettierの設定を追加したり、CI/CDに組み込んだりすると、さらに便利だよ。
- **基本的なフォーマットルール**
  - **インデント**: スペース2つまたは4つ（プロジェクトの慣習に合わせる）。Prettierが自動でやってくれるから、基本的には気にしなくてOK！
  - **引用符**: シングルクォート（`'`）かダブルクォート（`"`）か、どちらかに統一する。Prettierの設定で決められるよ。
  - **セミコロン**: 行末にセミコロンをつけるかつけないか（`semi: true` or `semi: false`）。これもPrettierにお任せ！
  - **行の長さ**: 長すぎる行は読みにくいから、適度な長さで改行する。Prettierが自動で調整してくれるよ。

## 可読性向上のための規約
- **命名規則は超重要！** 🌟
  - **変数・関数**: `camelCase`（例: `getUserData`, `totalCount`）を使うと、読みやすいよ。
  - **クラス**: `PascalCase`（例: `UserService`, `ProductModel`）を使うと、クラスだと一目でわかるね。
  - **定数**: 全て大文字でアンダースコア区切り（例: `MAX_ITEMS`, `API_KEY`）にすると、定数だと分かりやすいよ。
  - **意味のある名前**: `a`, `b`, `temp`みたいな意味不明な名前は避けて、何を表しているか分かる名前にしよう！
- **コメントでコードを説明！** 📝
  - **JSDoc**: 関数やクラスの目的、引数、戻り値などをJSDoc形式で書くと、ドキュメントとしても役立つし、IDEの補完も効くようになるよ。
  - **なぜ？を説明**: コードが「何をしているか」よりも「なぜそうしているか」を説明するコメントは、後から見返した時にすごく助けになるよ。
- **コードの構造化とモジュール化** 📦
  - **ES Modules**: `import`と`export`を使って、機能を小さなファイルに分割しよう。依存関係が明確になって、コードの見通しが良くなるよ。
  - **単一責任原則**: 一つの関数やモジュールは、一つのことだけを担当するように設計すると、変更やテストがしやすくなるよ。
  - **ヘルパー関数の分離**: プロジェクトが小さくても、汎用的なヘルパー関数（今回の`zenkakuToHankaku`みたいな）は、`utils.js`のような専用ファイルにまとめて、モジュールとしてインポートして使おう！こうすることで、コードの再利用性が高まって、見通しも良くなるよ。
- **早期リターンとガード句** 🛡️
  - 条件分岐でエラーや無効な入力があった場合、すぐに処理を終了させる「早期リターン」を使うと、ネストが深くなるのを防いで、コードが読みやすくなるよ。

## パフォーマンス最適化のための規約
- **DOM操作は最小限に！** 🚀
  - DOM操作はコストが高いから、まとめて行うようにしよう。例えば、ループ内で何度もDOM要素を追加するのではなく、一度にまとめて追加すると効率的だよ。
  - **イベントデリゲーション**: 多数の要素にイベントリスナーを設定する代わりに、親要素に一つだけ設定して、イベントの発生元を特定する方法だよ。
- **ループ処理の効率化** ⚡
  - `for...of`や`forEach`など、用途に合ったループを使う。大規模なデータ処理では、`for`ループが最も高速な場合もあるよ。
- **非同期処理の適切な利用** ⏳
  - **Promise, async/await**: 時間のかかる処理（API呼び出し、ファイル読み込みなど）は、非同期で実行して、UIが固まらないようにしよう。`async/await`を使うと、非同期処理が同期的に書けて、読みやすくなるよ。
- **デッドコードの排除とバンドルサイズの最適化** 🗑️
  - 使われていないコードは削除しよう。WebpackやRollupなどのバンドラーを使うと、不要なコードを自動で削除（ツリーシェイキング）して、最終的なファイルサイズを小さくできるよ。

## 保守性向上のための規約
- **ESLintでコード品質をチェック！** ✅
  - Prettierはフォーマットを整えるツールだけど、ESLintはコードの潜在的なバグやアンチパターンを見つけてくれるよ。PrettierとESLintを組み合わせて使うと、最強の組み合わせだね！
  - **競合回避**: PrettierとESLintの設定が競合しないように、`eslint-config-prettier`などのプラグインを使うと良いよ。
- **テストコードは必ず書こう！** 🧪
  - **ユニットテスト**: 個々の関数やコンポーネントが正しく動作するかを確認するテスト。
  - **結合テスト**: 複数のコンポーネントやモジュールが連携して正しく動作するかを確認するテスト。
  - テストを書くことで、将来の変更が既存の機能に影響を与えないかを確認できるし、コードの設計も良くなるよ。
- **エラーハンドリングの統一** 🚨
  - エラーが発生した時に、どのように処理するかを統一しておくと、デバッグがしやすくなるよ。`try...catch`ブロックを適切に使ったり、カスタムエラークラスを定義したりするのも良いね。
- **依存関係の管理** 🌳
  - `package.json`で依存関係を明確にし、バージョン管理をしっかり行おう。`npm`や`yarn`などのパッケージマネージャーを適切に使うと、プロジェクトのセットアップが簡単になるよ。
- **型チェックの導入（TypeScript）** 💡
  - もしJunが興味があれば、TypeScriptを導入すると、JavaScriptに型安全性が加わって、大規模なプロジェクトでの保守性が格段に向上するよ。コンパイル時にエラーを見つけられるから、実行時エラーを減らせるんだ。

## ES6以降の機能の活用
- **`const`と`let`の適切な使い分け** 🔄
  - **`const`**: 再代入しない変数には`const`を使おう。意図しない変更を防げるよ。
  - **`let`**: 再代入が必要な変数には`let`を使おう。
  - **`var`は使わない！**: `var`はブロックスコープがないなど、問題が多いから、基本的には使わないようにしようね。
- **アロー関数** =>
  - 簡潔に書けるし、`this`の挙動が分かりやすいから、コールバック関数などで積極的に使おう。
- **分割代入** 💥
  - オブジェクトや配列から値を取り出すときに使うと、コードがスッキリするよ。
- **スプレッド構文** ...
  - 配列の結合やオブジェクトのコピー、関数の引数などで使うと、便利で読みやすいコードになるよ。
- **テンプレートリテラル** `` ` ``
  - 文字列の中に変数や式を埋め込むときに使うと、文字列結合が簡単になるし、複数行の文字列も扱いやすくなるよ。
- **クラス構文** 🏛️
  - オブジェクト指向的なコードを書くときに使うと、構造が明確になるよ。継承やカプセル化もできるね。

これらのガイドラインが、JunのJavaScript開発に役立つと嬉しいな！何か質問があったり、追加してほしいことがあったら、いつでも教えてね！😊
