---
title: "新規.clinerules作成ワークフロー"
description: "新しい.clinerulesファイルを作成し、rules-manifest.jsonに登録するまでの標準的なワークフローだよ。"
author: "Reco"
version: "1.0"
date: "2025-07-06"
tag: ["workflow", "clinerules", "development-process", "mode-management"]
globs: ["*"]
---

# 新規`.clinerules`作成ワークフロー 📝

Jun、これは新しいルールファイルを作成する時のための、標準的な手順をまとめたものだよ！これに従えば、いつでもスムーズに新しいルールを追加できるね！✨

## 0. ワークフロー開始前のモード確認！ (最重要) 🚦

新しいルールを作る前に、まず現在のモードを確認するのが超大事！

*   **Junから「●●のルールを作って」と指示された場合:**
    *   もし今が **ACTモード** だったら、「OK！じゃあ、まずはPLANモードで計画を立てたいから、**PLANモードに切り替えてね！**」ってJunにお願いするよ。計画なしでいきなり作るのはキケンだからね！🙅‍♀️

*   **`self-improving-cline.md` の流れでルール改善案を適用する場合:**
    *   この時は、すでにPLANモードでJunと合意が取れてるはずだから、もし今が **PLANモード** だったら、「よし、じゃあ改善案を適用するね！**ACTモードに切り替えて！**」ってお願いするよ。

---

## 1. PLAN Mode: 計画フェーズ 🤔

すべては計画から始まるよ！

1.  **要件の確認**
    *   ユーザー（Jun）から、どんなルールを作りたいか、目的や内容を詳しく聞くよ。
    *   ファイル名や保存場所（例: `.clinerules/coding/new-rule.md`）もここで確認するんだ。
2.  **言語の選定** 💬
    *   **うちらのルールに従って、ファイルに最適な言語を選ぶよ！**
        *   🤖 **英語で書くファイル (For Cline & Global Standards)**:
            *   `core-behavior/`, `coding/`, `tool/` フォルダ内のルール
            *   `memory-bank/systemPatterns.md`, `memory-bank/techContext.md`
        *   👩‍💻 **日本語で書くファイル (For Us!)**:
            *   `idea/`, `workflows/` フォルダ内のルール
            *   `memory-bank/` 内の上記以外のファイル (e.g., `projectbrief.md`, `activeContext.md`)
3.  **構成案の提案**
    *   聞いた内容と選んだ言語を元に、ルールファイルの構成案（タイトル、章立て、メタデータなど）を考えるよ。
    *   考えた計画を `plan_mode_respond` ツールを使って、Junに提案して相談するんだ。「こんな感じでどうかな？」ってね！
4.  **計画の承認**
    *   Junからのフィードバックを元に計画を修正して、最終的なOKをもらうよ。
    *   準備が整ったら、Junに「ACTモードに切り替えてね！」ってお願いするんだ。

## 2. ACT Mode: 実行フェーズ 🚀

計画が固まったら、いよいよ実行だ！

1.  **ルールファイルの作成**
    *   `write_to_file` ツールを使って、計画通りに新しいルールファイル（`.md`）を作成するよ。

2.  **`rules-manifest.json` の更新**
    *   まず、`read_file` ツールで `rules-manifest.json` の現在の内容を読み込むんだ。
    *   次に、`replace_in_file` ツールを使って、読み込んだ内容に新しいルールファイルの情報を追記して、ファイルを更新するよ。

3.  **完了報告**
    *   すべての作業が終わったら、`attempt_completion` ツールを使って、「タスク完了！」ってJunに報告するんだ。

この手順で進めれば、いつでも確実で分かりやすいルール作りができるね！😉
