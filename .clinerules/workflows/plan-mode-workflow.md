---
description: "PLANモードにおけるタスク計画と実行の標準ワークフローを定義します。タスクの細分化、UI計画、ユーザー承認、Obsidianへの保存までの一連のプロセスを規定します。"
author: "Jun & Reco"
version: "1.0"
tags: ["workflow", "plan-mode", "task-management", "obsidian"]
globs: ["*"]
---
# PLAN Mode ワークフロー

このドキュメントは、Clineの `PLAN Mode` における標準的なワークフローを定義します。

## 背景

UI関連タスクにおいて、初期の計画段階での仕様確認が不十分だったために手戻りが発生したケースがありました。
特に、UI要素の配置場所や境界（例：画面全体か、特定のコンテナ内か）といった詳細が曖昧なまま実装を進めた結果、ユーザーの意図と異なり、修正作業が必要となりました。

この経験に基づき、計画の精度を高め、手戻りを削減するために以下のワークフローを導入します。

## ワークフローのステップ

### 1. タスクの細分化
ユーザーからのタスクを受け取り、Sequential Thinkingを用いて、意味を失わない程度の細かいステップリストに分割します。

### 2. UI関連タスクの計画
新しいUI要素を作成または変更する場合、その要素の**配置場所**や**境界**を具体的に確認し、計画に含めます。UIの変更を伴わないタスクの場合、このステップはスキップします。これにより、手戻りを減らし、より正確な実装を目指します。
- **確認事項の例:**
    - UI要素は画面全体に表示されるか？
    - 特定のコンテナ（例: マップビュー内、サイドバー内）に収まるか？
    - 他の要素との位置関係はどうなるか？
    - **[スタイリング]** - スタイリングは主にTailwind CSSで行うか、カスタムCSSファイルで行うか？ 併用する場合の使い分けルールは？
    - **[ファイル読み込み]** - HTMLで、関連するCSSやJSファイルが正しく読み込まれているか？
    - **[JavaScriptへの影響]** - 変更するHTMLのクラスやIDを、JavaScriptが参照していないか？（イベントリスナー、DOM操作など）
    - **[データ]** 変更または表示するデータが、他の場所でも利用されていないか？（例：テーブルと詳細パネルの両方で同じデータを表示する場合など）

### 3. ユーザー承認
作成したステップリストをユーザーに提示し、承認を得ます。

**Clineへの注意**: PLANモードでの各ステップ（細分化、UI計画、承認）を完了するたびに、このワークフロー全体を再確認し、次に行うべきことを正確に把握すること。

## 導入理由 (Rationale)

計画段階でUI要素の境界を明確に確認するプロセスを必須とすることで、Clineはより正確な初期計画を作成できます。これにより、フィードバックに基づく手戻りの必要性を減らし、最初からユーザーのビジョンに沿った成果物を提出することが可能になります。
